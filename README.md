🚨 음주운전 사고 위험 지역 시각화 프로젝트 (Drunk Driving Accident Risk Visualization)

📌 1. 프로젝트 개요 및 목표

본 프로젝트는 공공 데이터 포털에서 수집한 음주운전 사고 데이터를 분석하고, 그 결과를 웹 기반의 인터랙티브 지도(GIS)로 시각화하여 사고 위험 지역 정보를 대중에게 직관적으로 제공하는 것을 목표로 합니다.

목적: 특정 지역의 음주운전 사고 위험도를 정량화하여 경각심을 고취시키고, 지방자치단체 및 경찰의 교통 안전 단속 정책 수립에 필요한 과학적 근거 자료를 제공합니다.

핵심 결과물: 시/군/구 단위의 광역 위험도(Choropleth)와 개별 사고 지점의 마이크로 위험도(Marker)를 결합한 단일 웹 지도(HTML) 파일.

🛠️ 2. 기술 스택 및 데이터 소스

2.1. 주요 기술 스택

영역

기술

활용 내용

데이터 전처리

Python (Pandas)

CSV 데이터 로드, 정규화, 위험도 점수(Risk Score) 산정

지리 공간 분석

GeoPandas

사고 데이터와 행정 구역 GeoJSON 병합 및 좌표계 처리

웹 시각화 엔진

Leaflet.js

커스텀 GeoJSON 및 마커 레이어를 이용한 인터랙티브 지도 구현

프론트엔드

HTML, JavaScript, CSS

데이터 주입 및 최종 지도 UI 구성

2.2. 사용 데이터

데이터셋

파일명

설명

사고 다발 지역

19_24_drunk.csv

2019년부터 2024년까지의 전국 음주운전 사고 다발 지점 정보 (사고건수, 사상자수, 좌표 등)

행정 구역 경계

TL_SCCO_SIG.json

전국 시/군/구 단위의 법정동 경계 GeoJSON 데이터

⚙️ 3. 데이터 처리 및 위험도 산정 로직

프로젝트의 핵심은 원본 사고 데이터를 행정 구역과 정확히 매핑하고, 지역별 위험도를 정량화하는 것입니다.

3.1. 지역명 표준화 (Mapping Key Alignment)

문제 인식: 원본 사고 데이터의 시도시군구명 컬럼은 (예: 서울특별시 종로구) 형태인 반면, GeoJSON의 행정 구역 키는 (예: 종로구) 형태로 불일치했습니다.

해결: Python 정규 표현식을 사용하여 사고 데이터의 지역명에서 시/도 이름 부분을 제거하고, 순수한 시/군/구 이름만 추출하여 GeoJSON의 매핑 키와 통일성을 확보했습니다.

3.2. 지역별 위험 점수(Risk Score) 산정

정의: 시/군/구 단위의 광역 위험도를 산정하기 위해 해당 지역 내의 총 사고 건수를 기준으로 위험 점수를 정의했습니다.

처리: GeoPandas 병합 과정에서 사고가 없는 지역에 대해 Null 값을 0으로 치환하여, 누락된 지역 없이 모든 행정 구역의 위험도를 표현했습니다.

3.3. 최종 데이터 변환

GeoPandas로 병합 및 점수 산정이 완료된 최종 GeoDataFrame을 Leaflet.js에서 즉시 사용할 수 있도록 GeoJSON 문자열 형태로 변환하여 HTML에 삽입했습니다.

🗺️ 4. 시각화 구현 전략 및 기술적 해결

4.1. 다중 레이어 시각화 (Multi-Layer Visualization)

레이어 유형

정보 제공 범위

시각적 표현 방법

Choropleth Map

시/군/구 광역 위험도

위험 점수에 비례하여 붉은색 농도를 달리하는 면적 지도

Circle Marker

개별 사고 지점 마이크로 위험도

사고 건수에 비례하여 마커의 반지름 크기와 농도를 조절

4.2. 핵심 이슈 해결: 레이어 이벤트 겹침 제어

지도에 면적 레이어(GeoJSON)와 원형 마커 레이어(Circle Marker)가 동시에 존재할 때, Choropleth 레이어가 위에 겹쳐져 마커 클릭 이벤트가 방해받는 문제가 발생했습니다.

발생 문제

해결 기법

Leaflet 코드 적용

마커 클릭 불능

Z-Index 조정: 면적 레이어를 강제로 지도 최하단으로 내립니다.

geoJsonLayer.bringToBack()

이벤트 전파 차단

클릭 이벤트 제어: 마커 클릭 이벤트가 하단 레이어로 전달되는 것을 명시적으로 차단합니다.

L.DomEvent.stopPropagation(e)

▶️ 5. 프로젝트 실행 방법 (Google Colab 환경 권장)

본 프로젝트는 데이터 처리부터 HTML 생성까지 모든 과정을 하나의 Python 스크립트(colab_data_injector.py)에서 수행하도록 설계되어, 별도의 웹 서버 설정 없이 실행 가능합니다.

5.1. 사전 준비 및 환경 설정

GitHub 저장소 주소: [여기에 실제 GitHub 저장소 주소를 입력하십시오.]

파일 업로드: colab_data_injector.py, 19_24_drunk.csv, TL_SCCO_SIG.json 세 파일을 Colab 환경에 업로드합니다.

필수 라이브러리 설치: 아래 명령을 실행하여 geopandas 및 관련 라이브러리를 설치합니다.

!pip install pandas geopandas


5.2. 스크립트 실행

Colab 또는 Jupyter Notebook 셀에 다음 코드를 입력하고 실행합니다.

# colab_data_injector.py 파일에 통합된 전체 로직을 실행
exec(open('colab_data_injector.py').read())


5.3. 결과 확인

실행이 완료되면, 출력 셀에 최종 렌더링된 인터랙티브 HTML 지도가 표시됩니다. 마커를 클릭하거나 지역에 마우스를 올려 상세 정보를 확인해 보세요.

💡 6. 결론 및 향후 계획

본 프로젝트는 데이터 분석 및 시각화 역량을 종합적으로 보여주며, 특히 GIS 환경에서 발생하는 기술적 문제를 성공적으로 해결했습니다.

향후 확장 계획

인구수 가중치 적용: 단순히 사고 건수 대신, 인구 밀도 대비 사고율을 산정하여 위험 지수의 공정성을 높입니다.

시계열/조건부 필터링: 사용자가 원하는 시간대, 요일, 도로 종류별로 위험 지역을 필터링하여 동적으로 시각화하는 기능을 추가할 예정입니다.